import{a as I,b as k,c as E,d as F,e as N,f as U,i as W,j as T}from"./chunk-6M3OYAIA.js";import{D as b,F as c,H as o,I as r,M as w,N as M,O as y,P as x,Q as g,R as P,U as u,V as f,W as _,Y as S,ia as v,ka as O,ma as L,p as h,sa as V,t as d,u as l,y as a,z as p}from"./chunk-6UB5JURL.js";function q(n,z){if(n&1&&(o(0,"div"),g(1),r()),n&2){let e=y();a(),P(e.message)}}var J=(()=>{class n{constructor(e,s){this.http=e,this.router=s,this.credentials={email:"",password:""},this.message=""}login(){this.http.post("/api/users/login",this.credentials).subscribe({next:e=>{localStorage.setItem("token",e.token),localStorage.setItem("username",e.username),this.message="Login successful!",this.router.navigate(["/stocks"])},error:e=>this.message=e.error?.message||"Login failed."})}static{this.\u0275fac=function(s){return new(s||n)(p(L),p(V))}}static{this.\u0275cmp=h({type:n,selectors:[["app-user-login"]],standalone:!0,features:[S],decls:10,vars:4,consts:[["loginForm","ngForm"],[1,"user-section"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[4,"ngIf"]],template:function(s,t){if(s&1){let m=w();o(0,"section",1)(1,"h2"),g(2,"Login"),r(),o(3,"form",2,0),M("ngSubmit",function(){return d(m),l(t.login())}),o(5,"input",3),_("ngModelChange",function(i){return d(m),f(t.credentials.email,i)||(t.credentials.email=i),l(i)}),r(),o(6,"input",4),_("ngModelChange",function(i){return d(m),f(t.credentials.password,i)||(t.credentials.password=i),l(i)}),r(),o(7,"button",5),g(8,"Login"),r()(),b(9,q,2,1,"div",6),r()}if(s&2){let m=x(4);a(5),u("ngModel",t.credentials.email),a(),u("ngModel",t.credentials.password),a(),c("disabled",m.invalid),a(2),c("ngIf",t.message)}},dependencies:[O,v,T,U,I,k,E,W,N,F],styles:[".user-section[_ngcontent-%COMP%]{max-width:400px;margin:3rem auto;background:#fff;border-radius:1rem;box-shadow:0 4px 24px #00000012;padding:2.5rem 2rem;display:flex;flex-direction:column;align-items:center}.user-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3f51b5;margin-bottom:2rem;font-size:2rem;font-weight:600}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1.2rem}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:.7rem 1rem;border-radius:.5rem;border:1px solid #cfd8dc;font-size:1rem;outline:none;transition:border .2s}input[_ngcontent-%COMP%]:focus{border-color:#3f51b5}button[type=submit][_ngcontent-%COMP%]{background:#3f51b5;color:#fff;border:none;border-radius:.5rem;padding:.7rem 1rem;font-size:1.1rem;font-weight:500;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#283593}div[ng-reflect-ng-if][_ngcontent-%COMP%]{margin-top:1.5rem;color:#388e3c;font-weight:500;text-align:center}@media (max-width: 500px){.user-section[_ngcontent-%COMP%]{padding:1.2rem .5rem}form[_ngcontent-%COMP%]{gap:.7rem}}"]})}}return n})();export{J as UserLoginComponent};
