import{C as l,E as a,G as f,H as d,N as u,P as g,R as h,X as y,e as n,fa as k,ha as x,j as s,ja as C,ka as i,la as w,m as c,o as p,x as m}from"./chunk-JK4GMMAI.js";function v(r,P){if(r&1&&(f(0,"div",1),g(1),d()),r&2){let t=u();a("ngClass",t.type),m(),h(" ",t.message," ")}}var M=(()=>{class r{constructor(){this.message="",this.type="error"}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=p({type:r,selectors:[["app-alert"]],inputs:{message:"message",type:"type"},standalone:!0,features:[y],decls:1,vars:1,consts:[["class","custom-alert",3,"ngClass",4,"ngIf"],[1,"custom-alert",3,"ngClass"]],template:function(e,o){e&1&&l(0,v,2,2,"div",0),e&2&&a("ngIf",o.message)},dependencies:[C,k,x],styles:[".custom-alert[_ngcontent-%COMP%]{position:fixed;top:80px;left:50%;transform:translate(-50%);z-index:2000;min-width:220px;max-width:90vw;padding:.8rem 1.8rem;border-radius:.7rem;font-size:1.1rem;font-weight:500;text-align:center;pointer-events:none;box-shadow:0 2px 8px #0000001f;animation:_ngcontent-%COMP%_fadeIn .2s}.custom-alert.error[_ngcontent-%COMP%]{background:#f44336;color:#fff}.custom-alert.success[_ngcontent-%COMP%]{background:#388e3c;color:#fff}.custom-alert.info[_ngcontent-%COMP%]{background:#1976d2;color:#fff}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(-50%,-20px)}to{opacity:1;transform:translate(-50%)}}"]})}}return r})();var U=(()=>{class r{constructor(t){this.http=t,this.apiUrl="/api/stocks"}getStocks(){return this.http.get(this.apiUrl).pipe(n(t=>t.map(e=>({id:e.id,name:e.name,symbol:e.symbol,openRate:e.openrate,closeRate:e.closerate,peakPrice:e.peakprice,lowPrice:e.lowprice,currentRate:e.currentrate,yearLow:e.yearlow,yearHigh:e.yearhigh}))))}createStock(t){return this.http.post(this.apiUrl,t)}getStock(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(n(e=>({id:e.id,name:e.name,symbol:e.symbol,openRate:e.openrate,closeRate:e.closerate,peakPrice:e.peakprice,lowPrice:e.lowprice,currentRate:e.currentrate,yearLow:e.yearlow,yearHigh:e.yearhigh})))}getStockPrices(t){return this.http.get(`/api/stocks/${t}/prices`).pipe(n(e=>e.map(o=>({id:o.id,stockId:o.stock_id,price:o.price,timestamp:o.time,currency:o.currency??"USD"}))))}buyShare(t,e){let o=localStorage.getItem("token"),I=o?new i({Authorization:`Bearer ${o}`}):void 0;return this.http.post("/api/shares",{stockId:t,quantity:e},{headers:I})}getMyShares(){let t=localStorage.getItem("token"),e=t?new i({Authorization:`Bearer ${t}`}):void 0;return this.http.get("/api/shares",{headers:e,responseType:"json"})}static{this.\u0275fac=function(e){return new(e||r)(c(w))}}static{this.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{M as a,U as b};
