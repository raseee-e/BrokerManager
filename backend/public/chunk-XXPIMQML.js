import{a as E,b as U,c as W,d as I,e as T,f as F,i as N,j as k}from"./chunk-SXUKG5O4.js";import{C as b,E as p,G as r,H as i,L as w,M,N as y,O as P,P as l,Q as v,T as u,U as c,V as f,X as x,ha as S,ja as O,la as R,o as h,ra as V,s as d,t as g,x as o,y as C}from"./chunk-JK4GMMAI.js";function z(n,q){if(n&1&&(r(0,"div"),l(1),i()),n&2){let s=y();o(),v(s.message)}}function B(n,q){n&1&&(r(0,"div",9),l(1,"You are being redirected..."),i())}var J=(()=>{class n{constructor(s,a){this.http=s,this.router=a,this.user={username:"",email:"",password:""},this.message="",this.redirecting=!1}register(){this.http.post("/api/users/register",this.user).subscribe({next:()=>{this.message="Registration successful!",this.redirecting=!0,setTimeout(()=>{this.router.navigate(["/login"])},2e3)},error:s=>this.message=s.error?.message||"Registration failed."})}static{this.\u0275fac=function(a){return new(a||n)(C(R),C(V))}}static{this.\u0275cmp=h({type:n,selectors:[["app-user-register"]],standalone:!0,features:[x],decls:12,vars:6,consts:[["registerForm","ngForm"],[1,"user-section"],[3,"ngSubmit"],["name","username","type","text","placeholder","Username","required","",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[4,"ngIf"],["style","color:#3f51b5; margin-top:0.5rem;",4,"ngIf"],[2,"color","#3f51b5","margin-top","0.5rem"]],template:function(a,e){if(a&1){let m=w();r(0,"section",1)(1,"h2"),l(2,"Register"),i(),r(3,"form",2,0),M("ngSubmit",function(){return d(m),g(e.register())}),r(5,"input",3),f("ngModelChange",function(t){return d(m),c(e.user.username,t)||(e.user.username=t),g(t)}),i(),r(6,"input",4),f("ngModelChange",function(t){return d(m),c(e.user.email,t)||(e.user.email=t),g(t)}),i(),r(7,"input",5),f("ngModelChange",function(t){return d(m),c(e.user.password,t)||(e.user.password=t),g(t)}),i(),r(8,"button",6),l(9,"Register"),i()(),b(10,z,2,1,"div",7)(11,B,2,0,"div",8),i()}if(a&2){let m=P(4);o(5),u("ngModel",e.user.username),o(),u("ngModel",e.user.email),o(),u("ngModel",e.user.password),o(),p("disabled",m.invalid),o(2),p("ngIf",e.message),o(),p("ngIf",e.redirecting)}},dependencies:[O,S,k,F,E,U,W,N,T,I],styles:[".user-section[_ngcontent-%COMP%]{max-width:400px;margin:3rem auto;background:#fff;border-radius:1rem;box-shadow:0 4px 24px #00000012;padding:2.5rem 2rem;display:flex;flex-direction:column;align-items:center}.user-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3f51b5;margin-bottom:2rem;font-size:2rem;font-weight:600}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1.2rem}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:.7rem 1rem;border-radius:.5rem;border:1px solid #cfd8dc;font-size:1rem;outline:none;transition:border .2s}input[type=text][_ngcontent-%COMP%]:focus{border-color:#1976d2;background:#e3eafc}input[name=username][_ngcontent-%COMP%]{font-weight:500;letter-spacing:.03em;background:#f5f6fa}input[_ngcontent-%COMP%]:focus{border-color:#3f51b5}button[type=submit][_ngcontent-%COMP%]{background:#3f51b5;color:#fff;border:none;border-radius:.5rem;padding:.7rem 1rem;font-size:1.1rem;font-weight:500;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#283593}div[ng-reflect-ng-if][_ngcontent-%COMP%]{margin-top:1.5rem;color:#388e3c;font-weight:500;text-align:center}@media (max-width: 500px){.user-section[_ngcontent-%COMP%]{padding:1.2rem .5rem}form[_ngcontent-%COMP%]{gap:.7rem}}"]})}}return n})();export{J as UserRegisterComponent};
